<!doctype html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | BetMine</title>
    <link rel="stylesheet" href="TemplateData/style.css">
    <link rel="shortcut icon" href="TemplateData/favicon.ico" />
    <script src="TemplateData/UnityProgress.js"></script>
  </head>
  <body class="template">
    <p class="header"><span>Unity WebGL Player | </span>BetMine</p>
    <div class="template-wrap clear">
      <canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" height="600px" width="960px"></canvas>
      <br>
      <div class="logo"></div>
      <div class="fullscreen"><img src="TemplateData/fullscreen.png" width="38" height="38" alt="Fullscreen" title="Fullscreen" onclick="SetFullscreen(1);" /></div>
      <div class="title">BetMine</div>
    </div>
    <p class="footer">&laquo; created with <a href="http://unity3d.com/" title="Go to unity3d.com">Unity</a> &raquo;</p>
    <script type='text/javascript'>
  var Module = {
    TOTAL_MEMORY: 268435456,
    errorhandler: null,			// arguments: err, url, line. This function must return 'true' if the error is handled, otherwise 'false'
    compatibilitycheck: null,
    dataUrl: "Release/BetMineBuild.data",
    codeUrl: "Release/BetMineBuild.js",
    memUrl: "Release/BetMineBuild.mem",
    
  };
  
  
  
    InitMathStats = function (betAmount, numberOfMine)
	{
		// Khi nguoi choi lua chon so luong dat coc va so luong min thi goi ham nay
		SendMessage ('jsHandler', 'InitStats', betAmount, numberOfMine);
	}
	
	RevealAllMinePosition = function(minePositionStrings)
	{
	// string vidu: "(1x3),(4x4),(2x4)"		
		SendMessage ('jsHandler', 'RevealAllMinePosition', minePositionStrings);
	}
  
    CellClicked = function (x, y) 
	{ 	
	    // This is and example of how to send message to the game
		var randomValue = 0.6*Math.random();
		window.alert("clicked cell " + x + "x" + y + ", result: " + randomValue);
		
		SendClickResult(Math.round(randomValue)); 
		
		RevealAllMinePosition("(1x3),(4x4),(2x4)");
	}
	
	SendClickResult = function(result)
	{
	    // clicked on mine, result = 1. clicked on normal cell, result = 0
		SendMessage ('jsHandler', 'ClickResultListener', result);
	}
	

</script>
<script src="Release/UnityLoader.js"></script>

  </body>
</html>
